Create database DB_MACAFOOD
USE DB_MACAFOOD
CREATE TABLE TB_USUARIO(

CODIGO_USUARIO INT(10) AUTO_INCREMENT,
NOMBRE_USUARIO VARCHAR(30) NOT NULL,
CELULAR_USUARIO VARCHAR(15) NOT NULL,
DIRECCION_USUARIO VARCHAR(50) NOT NULL,
PRIMARY KEY (CODIGO_USUARIO)

)

CREATE TABLE TB_PEDIDO(
CODIGO_PEDIDO INT(10) AUTO_INCREMENT,
FECHA_PEDIDO DATE NOT NULL,
MONTO_PEDIDO DECIMAL(9,2) NOT NULL,
CODIGO_USUARIO INT(10),
PRIMARY KEY (CODIGO_PEDIDO),
FOREIGN KEY (CODIGO_USUARIO) REFERENCES TB_USUARIO(CODIGO_USUARIO)
)

CREATE TABLE TB_PRODUCTO(
CODIGO_PRODUCTO INT(10) AUTO_INCREMENT,
NOMBRE_PRODUCTO VARCHAR(40) NOT NULL,
PRECIO_PRODUCTO DECIMAL(9,2) NOT NULL,
PRIMARY KEY (CODIGO_PRODUCTO)
)

CREATE TABLE TB_DETALE_PEDIDO(
CODIGO_PRODUCTO INT(10),
CODIGO_PEDIDO INT(10),
CANTIDAD_PRO_PEDIDO INT(3) NOT NULL,
SUBTOTAL_PRO_PEDIDO DECIMAL(9,2) NOT NULL,
FOREIGN KEY (CODIGO_PRODUCTO) REFERENCES TB_PRODUCTO(CODIGO_PRODUCTO),
FOREIGN KEY (CODIGO_PEDIDO) REFERENCES TB_PEDIDO(CODIGO_PEDIDO)
)
USE DB_MACAFOOD

-------         INSERTAR  PRODUCTO ---------
insert into tb_producto (nombre_producto,precio_producto)
values('COMBINADO',10.5)
insert into tb_producto (nombre_producto,precio_producto)
values('ANTICUCHOS',15.5)
insert into tb_producto (nombre_producto,precio_producto)
values('PANCITA',12)

SELECT * FROM DB_MACAFOOD.TB_PRODUCTO

-------         INSERTAR  USUARIO ---------
insert into tb_USUARIO (nombre_USUARIO,CELULAR_USUARIO,DIRECCION_USUARIO)
values('JORGE VARGAS',94562315,'AV. RODRIGUEZ SOTO 636')
insert into tb_USUARIO (nombre_USUARIO,CELULAR_USUARIO,DIRECCION_USUARIO)
values('LUISA ESQUEN',98564315,'AV. MANGOMARCA 234')
insert into tb_USUARIO (nombre_USUARIO,CELULAR_USUARIO,DIRECCION_USUARIO)
values('ELVIS SERENO',995134845,'AV. UNIVERSITARIA')

-------         INSERTAR  PEDIDO ---------
insert into tb_PEDIDO (FECHA_PEDIDO,MONTO_PEDIDO,CODIGO_USUARIO)
values('2021/02/01',48.5,1)
insert into tb_PEDIDO (FECHA_PEDIDO,MONTO_PEDIDO,CODIGO_USUARIO)
values('2021/01/01',15.5,2)
insert into tb_PEDIDO (FECHA_PEDIDO,MONTO_PEDIDO,CODIGO_USUARIO)
values('2021/02/14',12,3)
insert into tb_PEDIDO (FECHA_PEDIDO,MONTO_PEDIDO,CODIGO_USUARIO)
values('2021/02/05',27.5,3)

-------         INSERTAR  DETALLE_PEDIDO ---------
insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(1,1,1,10.5)
insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(2,1,1,15.5)
insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(1,1,1,10.5)
insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(3,1,1,12)

insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(2,2,1,15.5)

insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(3,3,1,12)

insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(2,4,1,15.5)
insert into tb_DETALE_PEDIDO (CODIGO_PRODUCTO,CODIGO_PEDIDO,CANTIDAD_PRO_PEDIDO,SUBTOTAL_PRO_PEDIDO)
values(3,4,1,12)
USE DB_MACAFOOD

SELECT P.CODIGO_PEDIDO,PRO.CODIGO_PRODUCTO,D.CANTIDAD_PRO_PEDIDO,PRO.NOMBRE_PRODUCTO,D.SUBTOTAL_PRO_PEDIDO FROM 
TB_USUARIO  U INNER JOIN TB_PEDIDO  P 
ON U.CODIGO_USUARIO=P.CODIGO_USUARIO INNER JOIN TB_DETALE_PEDIDO D 
ON D.CODIGO_PEDIDO=P.CODIGO_PEDIDO INNER JOIN TB_PRODUCTO PRO 
ON PRO.CODIGO_PRODUCTO=D.CODIGO_PRODUCTO
WHERE U.CODIGO_USUARIO=1
